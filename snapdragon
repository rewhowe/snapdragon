#!/usr/bin/env ruby

require_relative File.join('src', 'lexer.rb')
require_relative File.join('src', 'colour_string.rb')

options = {
  debug: false,
}

filename = nil

ARGV.each do |arg|
  case arg
  when '-d', '--debug'
    options[:debug] = true
  else
    filename = arg if (arg =~ /^-/).nil? && filename.nil?
  end
end

raise "Input file (#{filename}) not found" if filename.nil? || !File.exist?(filename)

_tokens = Lexer.tokenize(filename, options)
# TODO: send tokens to transpiler... also find a better name for transpiler
