#!/usr/bin/env ruby

require_relative 'src/lexer.rb'
require_relative 'src/colour_string.rb'

options = {
  debug: false,
}

filename = nil

ARGV.each do |arg|
  case arg
  when '-d', '--debug'
    options[:debug] = true
  else
    filename = arg if (arg =~ /^-/).nil? && filename.nil?
  end
end

raise "Input file (#{filename}) not found" if filename.nil? || !File.exist?(filename)

_tokens = Lexer.new(options).tokenize(filename)
# TODO: send tokens to transpiler... also find a better name for transpiler
