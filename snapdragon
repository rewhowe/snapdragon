#!/usr/bin/env ruby
VERSION = '0.0.0'.freeze

require_relative 'src/colour_string'
require_relative 'src/tokenizer/lexer'
require_relative 'src/tokenizer/reader'
require_relative 'src/tokenizer/errors'
require_relative 'src/util/logger'
require_relative 'src/util/options'
require_relative 'src/util/token_printer'

options = Util::Options.parse_arguments

abort VERSION if options[:version]

Util::Logger.setup options

reader = Tokenizer::Reader.new options
lexer  = Tokenizer::Lexer.new reader, options

if options[:tokens]
  Util::TokenPrinter.print_all lexer
  exit
end
